<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Links</title>
  <link rel="stylesheet" href="./links-style.css">
</head>

<body>
  <div style="font-style: italic; color: gray; position: fixed; right: 10px; top: 10px;">Safe Mode (h)</div>
  <div style="font-style: italic; color: gray; position: fixed; right: 10px; top: 40px;">Clear (Esc)
  </div>
  <a id="hoverLink" href="https://sahilrajput.com">sahilrajput.com (s)</a>
  <a href="chatai.html">ChatAI (c)</a>
  <a id="hoverLink" href="https://chatgpt.com">chatgpt.com (g)</a>
  <a id="hoverLink"
    href="https://docs.google.com/document/d/1N6RnvOSk8RHOylSIqdUPIgeFuvdiQGOFqPPkz6V1cMc/edit?tab=t.0#heading=h.eswtv9bzeis1">
    Daily Planner (Videos) (d)
  </a>
  <a id="hoverLink"
    href="https://docs.google.com/document/d/1cgmpPTtfn2HYwINmlLsvEduhNnuRHzZy6pumVfuNFZg/edit?tab=t.0#heading=h.mimk1zr17cs0">
    Movies, Seasons & TV Series (m)
  </a>
  <a id="hoverLink" href="https://github.com/sahilrajput03?tab=repositories&type=source">Github Repos (r)</a>
  <a id="hoverLink" href="https://docs.google.com/document/d/1_nlp7AaPG1Xl9yoxeiC5cp2uJwYvoaoUF17ZNRUEfi4/edit?tab=t.0">
    Business (b)
  </a>


  <hr />

  <a href="https://sahilrajput.com/essays">/essays</a>
  <a href="https://sahilrajput.com/essaysp">/essaysp (public)</a>
  <a href="https://sahilrajput.com/books">/books</a>
  <a href="https://sahilrajput.com/thoughts">/thoughts</a>
  <a href="https://sahilrajput.com/breathe">/breathe</a>
  <a href="https://sahilrajput.com/grow">/grow</a>
  <a href="https://sahilrajput.com/movies">/movies</a>
  <a href="https://sahilrajput.com/vocab">/vocab (vw)</a>
  <a href="https://sahilrajput.com/vocabd">/vocabd (doc) (vd)</a>
  <a href="https://example.com">example.com (vza)</a>
  <a href="https://sahilrajput.com/hypnosis">/hypnosis</a>
  <a href="https://sahilrajput.com/friends">/friends</a>
  <a href="https://sahilrajput.com/works">/works</a>
  <a href="https://sahilrajput.com/pg">/pg</a>
  <a href="https://sahilrajput.com/slideshows">/slideshows</a>
  <a href="https://sahilrajput.com/numerology">/numerology</a>
  <hr />
  <a href="https://sahilrajput.com/a">/a (personal affirmations)</a>
  <a href="https://sahilrajput.com/japa">/japa (108 counter)</a>
  <a href="https://sahilrajput.com/emotions">/emotions (words)</a>
  <a href="https://sahilrajput.com/n">/n (‡§®‡•Ä‡§§‡§ø)</a>
  <a href="https://sahilrajput.com/e">/e (english phrases)</a>
  <a href="https://sahilrajput.com/links-family-watch">/links-family-watch</a>

  <script>
    // THIS MAKES BROWSER BACK BUTTON TO NOT WORK AFTER OPENING ANY LINK SO ABORTING THIS::::
    // // Make links open with just hover.
    // const elements = document.querySelectorAll('a');
    // // console.log("üöÄ ~ elements:", elements);
    // elements.forEach(element => {
    //   element.addEventListener("mouseenter", () => {
    //     // window.location.href = element.href; // This replaces history so browser back button doesn't work.
    //     window.location.assign(element.href); // ‚úÖ This adds to history so browser back buton DOES work.
    //   });
    // });

    function createPersisted(localStorageKey, initialValue) {
      // private
      let _value;
      // For once in lifetime of app setup defautl values in local storage.
      const isLocalStorageInitialized = localStorage.getItem(localStorageKey);
      if (isLocalStorageInitialized) {
        _value = JSON.parse(localStorage.getItem(localStorageKey));
      } else {
        _value = initialValue;
        localStorage.setItem(localStorageKey, JSON.stringify(initialValue));
      }
      return {
        get value() { return _value; },
        set value(v) {
          _value = v;
          localStorage.setItem(localStorageKey, JSON.stringify(v));
        }
      };
    }
    // p stands for 'persisted'
    const areLinksHidden = createPersisted('areLinksHidden', false);
    console.log("üöÄ ~ (page load) areLinksHidden:", areLinksHidden.value);

    function setLinksVisibility(show) {
      document.querySelectorAll('a').forEach(a => {
        if (show) a.classList.add('hidden');
        else a.classList.remove('hidden');
      });
    }
    setLinksVisibility(areLinksHidden.value);

    const shortcuts = {
      a: 'https://sahilrajput.com/a',
      b: 'https://docs.google.com/document/d/1_nlp7AaPG1Xl9yoxeiC5cp2uJwYvoaoUF17ZNRUEfi4/edit?tab=t.0',
      c: 'https://sahilrajput.com/chatai',
      /* üî¥ #COMMENT-101: Uncomment below line is good for
          development/debugging purpose only. Why? So that browser doesn't
          ask for reading from clipbaord again and again as browser asks
          again and again for content server from local files. */
      // c: 'chatai.html',
      d: 'https://docs.google.com/document/d/1N6RnvOSk8RHOylSIqdUPIgeFuvdiQGOFqPPkz6V1cMc/edit?tab=t.0#heading=h.eswtv9bzeis1',
      g: 'https://chatgpt.com',
      m: 'https://docs.google.com/document/d/1cgmpPTtfn2HYwINmlLsvEduhNnuRHzZy6pumVfuNFZg/edit?tab=t.0#heading=h.mimk1zr17cs0',
      r: 'https://github.com/sahilrajput03?tab=repositories&type=source',
      s: 'https://sahilrajput.com',
      v: {
        d: 'vocabd.html',
        w: 'vocab.html',
        // Shortcut vza works too! ‚≠êÔ∏è
        z: {
          a: 'https://example.com'
        }
      },
    };

    let multiCharShortcut = '';

    function goToUrl(url) {
      window.location = url;
    }

    // Code inspired from cmm+k shortcut on your website sahilrajput.com.
    document.addEventListener('keydown', function (event) {
      const { key } = event;
      // console.log("üöÄ ~ key?", key);
      if (key === 'Escape') {
        multiCharShortcut = '';
        console.log('‚úÖ Cleared multiCharShortcut');
      } else if (key === 'Meta') {
        // ignore meta key
      } else if (key === 'h') {
        // if ((event.ctrlKey || event.metaKey) && key === 'h') {
        // event.preventDefault(); // Prevents browser's default behavior
        areLinksHidden.value = !areLinksHidden.value;
        console.log("üöÄ ~ p.areLinksHidden:", areLinksHidden.value);
        setLinksVisibility(areLinksHidden.value);
      } else if (multiCharShortcut) {
        multiCharShortcut += key;
        console.log("üöÄ ~ multiCharShortcut (2)?", multiCharShortcut);
        runMultiCharShortcut();
      } else {
        if (shortcuts[key]) {
          if (typeof shortcuts[key] === 'string') {
            goToUrl(shortcuts[key]);
          } else {
            multiCharShortcut += key;
            console.log("üöÄ ~ multiCharShortcut (1)?", multiCharShortcut);
          }
        } else {
          console.log('‚ùå shortcut not in list yet.');
        }
      }
    });

    function runMultiCharShortcut() {
      let url;
      console.log('for loop? (k)');
      for (let i = 0; i < multiCharShortcut.length; i++) {
        const k = multiCharShortcut?.[i];
        console.log('\tk?', k);
        if (!url) {
          url = shortcuts?.[k];
        } else {
          url = url?.[k];
        }
        console.log('\turl?', url);
        if (typeof url === 'string') {
          console.log('üî¥ breaking for loop');
          break;
        };
      }
      if (url) {
        if (typeof url === 'string') {
          console.log(`‚úÖ goToUrl(${url})`);
          goToUrl(url);
          // Below reset is helpful for testing by commenting goToUrl(`..`)).
          multiCharShortcut = '';
        } else {
          console.log('‚è∞ waiting for next key...');
        }
      } else {
        alert(multiCharShortcut + ' shortcut does not exist.');
        multiCharShortcut = '';
      }
    }
  </script>
</body>

</html>